# @laxdb/docs - Documentation Site

Fumadocs-powered documentation site. TanStack Start + MDX. Deployed to Cloudflare Workers.

## STRUCTURE

```
content/
└── docs/              # MDX documentation files
src/
├── routes/
│   ├── __root.tsx     # Root layout
│   ├── index.tsx      # Docs homepage
│   ├── docs/$.tsx     # Catch-all docs route
│   └── api/search.ts  # Orama search endpoint
├── components/
│   ├── search.tsx     # Search component
│   └── not-found.tsx  # 404 component
├── lib/
│   ├── source.ts      # Fumadocs source loader
│   └── layout.shared.tsx  # Shared layout components
└── styles/            # CSS styles
source.config.ts       # Fumadocs MDX config
```

## WHERE TO LOOK

| Task | Location |
|------|----------|
| Add docs page | `content/docs/{path}.mdx` |
| Modify docs layout | `src/lib/layout.shared.tsx` |
| Configure navigation | `content/docs/meta.json` |
| Add search | Uses Orama, see `src/routes/api/search.ts` |
| Change source config | `source.config.ts` |

## CONVENTIONS

### Fumadocs MDX

Documentation lives in `content/docs/`. Fumadocs auto-generates navigation.

**Page structure:**
```mdx
---
title: Page Title
description: Page description
---

# Content here
```

**Navigation via meta.json:**
```json
{
  "pages": ["index", "getting-started", "..."]
}
```

### Build Process

`fumadocs-mdx` runs at:
- `postinstall` (auto)
- `typecheck` (before tsgo)

Generates type-safe imports from MDX content.

### Search

Uses Orama for client-side search. Search index built at runtime.

## ANTI-PATTERNS

- **Edit .source/**: Auto-generated by fumadocs-mdx
- **Skip fumadocs-mdx**: Required for MDX imports to work
- **Edit routeTree.gen.ts**: Auto-generated

## COMMANDS

```bash
bun run dev           # Dev server on port 3001
bun run build         # Production build (runs fumadocs-mdx)
fumadocs-mdx          # Manually regenerate MDX types
```

## NOTES

- **Domain**: Deployed to docs.laxdb.io (docs subdomain)
- **Tailwind v4**: Uses @tailwindcss/vite plugin
- **Icons**: Uses lucide-static for sidebar icons
- **fumadocs-ui**: Provides pre-built UI components
